<h4>Gestión de Diagnósticos</h4>

<form (ngSubmit)="guardarDiagnostico()">
  <div>
    <label for="mascota_id">ID de Mascota:</label>
    <input type="number" [(ngModel)]="nuevoDiagnostico.mascota_id" name="mascota_id" required [readonly]="desdeHistorial">
  </div>

  <div>
    <label for="titulo">Título:</label>
    <input type="text" [(ngModel)]="nuevoDiagnostico.titulo" name="titulo" required>
  </div>

  <div>
    <label for="descripcion">Descripción:</label>
    <textarea [(ngModel)]="nuevoDiagnostico.descripcion" name="descripcion" required></textarea>
  </div>

  <div>
    <label for="fecha">Fecha:</label>
    <input type="date" [(ngModel)]="nuevoDiagnostico.fecha" name="fecha" required>
  </div>

  <button type="submit">{{ modoEdicion ? 'Actualizar' : 'Guardar' }}</button>
  <button type="button" *ngIf="modoEdicion" (click)="cancelarEdicion()">Cancelar</button>
</form>

<h5>Listado de Diagnósticos</h5>
<ul>
  <li *ngFor="let diagnostico of diagnosticos">
    📅 <strong>{{ diagnostico.fecha }}</strong> - <strong>{{ diagnostico.titulo }}</strong>: {{ diagnostico.descripcion }}
    (Mascota ID: {{ diagnostico.mascota_id }})
    <button (click)="editarDiagnostico(diagnostico)">Editar</button>
    <button (click)="eliminarDiagnostico(diagnostico.id)">Eliminar</button>
  </li>
</ul>
